#!/bin/bash

export XDG_CACHE_HOME="/tmp/.cache"

. /srv/http/data/system/localbrowser.conf

/srv/http/bash/features.sh localbrowserxset

[[ $cursor == false ]] && cursor=no || cursor=yes
ifconfig | grep -A1 'eth0\|wlan0' | grep -q inet || cursor=yes # no network connection
matchbox-window-manager -use_cursor $cursor &

zoom=$( echo "print $zoom / 100" | perl )
[[ $zoom != 1 ]] && scalefactor="--force-device-scale-factor=$zoom"
chromium localhost --kiosk --incognito --disable_gpu --disable-software-rasterizer --no-sandbox --no-xshm $scalefactor
