<!DOCTYPE html>
<html>
<head>
	<title>CamillaDSP</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
	<link rel="icon" href="./static/assets/img/icon.png">
	<link rel="stylesheet" href="./css-variables.css">
	<link rel="stylesheet" href="./static/css/main.113b3bad.css">
	<link rel="stylesheet" href="./static/assets/css/colors.css">
	<link rel="stylesheet" href="./camillagui.css">
</head>
<body class="css-variables hide">

<div class="head">
	<i class="page-icon fa fa-camilladsp"></i>
	<span>CamillaDSP</span>
	<i id="close" class="fa fa-times"></i><i id="help" class="fa fa-help"></i>
</div>
<div id="divhelp" class="hide">
	<a id="logo" href="https://github.com/HEnquist/camilladsp" target="_blank"><img src="./camilladsp.svg"><div id="version"></div></a>
	<a href="https://henquist.github.io/0.6.3/#introduction" target="_blank" style="color: var( --cw )">User Manual <i class="fa fa-help"></i></a>
	<br>
	<a href="https://henquist.github.io/0.6.3/#devices" target="_blank">Devices&ensp;•&nbsp;</a>
	<a href="https://henquist.github.io/0.6.3/#filters" target="_blank">Filters&ensp;•&nbsp;</a>
	<a href="https://henquist.github.io/0.6.3/#mixers" target="_blank">Mixers&ensp;•&nbsp;</a>
	<a href="https://henquist.github.io/0.6.3/#pipeline" target="_blank">Pipeline</a>
	<br>
	<br>Discussions: <i class="fa fa-info-circle"></i>
	<br>
	<a href="https://www.audiosciencereview.com/forum/index.php?threads/rpi4-camilladsp-tutorial.29656" target="_blank">#1&ensp;•&nbsp;</a>
	<a href="https://www.diyaudio.com/community/threads/camilladsp-cross-platform-iir-and-fir-engine-for-crossovers-room-correction-etc.349818" target="_blank">#2</a>
	<br>
</div>

<div id="root"></div>

<script defer="defer" src="./static/js/main.b49c9a4d.js"></script>
<script defer="defer">
if ( [ 'localhost', '127.0.0.1' ].includes( location.hostname ) ) document.getElementById( 'help' ).classList.add( 'hide' );

document.body.addEventListener( 'click', function( e ) {
	if ( e.target.id === 'close' ) {
		var hostname = location.hostname;
		var http = new XMLHttpRequest();
		http.open( 'POST', 'http://' + hostname + '/cmd.php', true );
		http.setRequestHeader( 'Content-type', 'application/x-www-form-urlencoded' );
		http.send( 'cmd=bash&bash=systemctl%20stop%20camillagui' );
		location.href = 'http://' + hostname;
	} else if ( e.target.id === 'help' || e.target.id === 'eqhelp' ) {
		document.getElementById( 'div'+ e.target.id ).classList.toggle( 'hide' );
	}
});

var link = document.querySelector( 'link[href*="camillagui"]' );
link.href = link.href +'?v='+ Date.now();
setTimeout( function() {
	document.body.classList.remove( 'hide' );
}, 300 );
fetch( '/api/status' )
	.then( response => response.json() )
	.then( status => {
		document.getElementById( 'version' ).innerHTML = `\
	CamillaDSP ${ status.cdsp_version }
<br>pyCamillaDSP ${ status.py_cdsp_version }
<br>Backend ${ status.backend_version }
`;
} );
</script>

</body>
</html>
